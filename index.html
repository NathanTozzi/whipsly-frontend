<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whipsly - Smart Car Search</title>
    <link rel="icon" type="image/png" href="assets/whipsly-logo-full.png">
    <meta property="og:image" content="assets/whipsly-logo-transparent.png">
    <meta property="og:title" content="Whipsly - Smart Car Search">
    <meta property="og:description" content="Find your perfect car with powerful filters and real-time insights">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/umd/lucide.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo-new">
                        <img src="assets/whipsly-logo-full.png" alt="Whipsly" class="logo-image">
                    </div>
                    <div class="brand-info">
                        <p class="brand-tagline">Smart car search made simple</p>
                    </div>
                </div>
                
                <div class="header-actions">
                    <button class="favorites-btn" id="favoritesBtn">
                        <i data-lucide="heart"></i>
                        Favorites (<span id="favoritesCount">0</span>)
                    </button>
                    <button class="signin-btn">Sign In</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h2 class="hero-title">Find Your Perfect Car</h2>
                <p class="hero-subtitle">Search the entire market with powerful filters and real-time insights</p>
                
                <!-- Search Bar -->
                <div class="search-container">
                    <div class="search-bar">
                        <i data-lucide="search" class="search-icon"></i>
                        <input 
                            type="text" 
                            placeholder="Search by make, model, or year..."
                            class="search-input"
                            id="searchInput"
                        >
                        <button class="filter-toggle" id="filterToggle">
                            <i data-lucide="filter"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Filters -->
    <section class="filters-section" id="filtersSection" style="display: none;">
        <div class="container">
            <h3 class="filters-title">Filters</h3>
            <div class="filters-grid">
                <div class="filter-group">
                    <label>Min Price</label>
                    <input type="number" placeholder="$0" id="minPrice">
                </div>
                <div class="filter-group">
                    <label>Max Price</label>
                    <input type="number" placeholder="$100,000" id="maxPrice">
                </div>
                <div class="filter-group">
                    <label>Max Mileage</label>
                    <input type="number" placeholder="100,000" id="maxMileage">
                </div>
                <div class="filter-group">
                    <label>Make</label>
                    <input type="text" placeholder="Toyota, Honda, etc." id="makeFilter">
                </div>
                <div class="filter-group">
                    <label>Min Year</label>
                    <input type="number" placeholder="2020" id="yearFilter">
                </div>
            </div>
        </div>
    </section>

    <!-- Market Insights -->
    <section class="insights-section">
        <div class="container">
            <h3 class="section-title">Market Insights</h3>
            <div class="insights-grid">
                <div class="insight-card">
                    <div class="insight-header">
                        <i data-lucide="dollar-sign" class="insight-icon"></i>
                        <span class="change-indicator negative">-2.1%</span>
                    </div>
                    <div class="insight-value">$42,300</div>
                    <div class="insight-label">Avg. Price</div>
                </div>
                <div class="insight-card">
                    <div class="insight-header">
                        <i data-lucide="eye" class="insight-icon"></i>
                        <span class="change-indicator positive">+5.3%</span>
                    </div>
                    <div class="insight-value">12,847</div>
                    <div class="insight-label">Total Listings</div>
                </div>
                <div class="insight-card">
                    <div class="insight-header">
                        <i data-lucide="calendar" class="insight-icon"></i>
                        <span class="change-indicator negative">-12.5%</span>
                    </div>
                    <div class="insight-value">18 days</div>
                    <div class="insight-label">Avg. Days on Market</div>
                </div>
                <div class="insight-card">
                    <div class="insight-header">
                        <i data-lucide="trending-up" class="insight-icon"></i>
                        <span class="change-indicator positive">+8.2%</span>
                    </div>
                    <div class="insight-value">23%</div>
                    <div class="insight-label">Price Drops</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Results Section -->
    <section class="results-section">
        <div class="container">
            <div class="results-header">
                <h3 class="results-title" id="resultsTitle">6 Cars Found</h3>
                <div class="results-controls">
                    <div class="view-toggle">
                        <button class="view-btn active" id="gridViewBtn" data-view="grid">
                            <i data-lucide="grid-3x3"></i>
                            Grid
                        </button>
                        <button class="view-btn" id="mapViewBtn" data-view="map">
                            <i data-lucide="map"></i>
                            Map
                        </button>
                    </div>
                    <select class="sort-select" id="sortSelect">
                        <option value="price-low">Sort by Price: Low to High</option>
                        <option value="price-high">Sort by Price: High to Low</option>
                        <option value="mileage">Sort by Mileage</option>
                        <option value="year">Sort by Year</option>
                    </select>
                </div>
            </div>
            
            <!-- Grid View -->
            <div class="cars-grid" id="carsGrid">
                <!-- Cars will be dynamically loaded here -->
            </div>
            
            <!-- Map View -->
            <div class="map-container" id="mapContainer" style="display: none;">
                <div id="carMap"></div>
            </div>
            
            <!-- No Results -->
            <div class="no-results" id="noResults" style="display: none;">
                <div class="no-results-icon">
                    <i data-lucide="search"></i>
                </div>
                <h3>No cars found</h3>
                <p>Try adjusting your search criteria or filters</p>
            </div>
        </div>
    </section>

    <!-- Car Detail Modal -->
    <div class="modal-overlay" id="carModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalCarTitle"></h2>
                <button class="modal-close" id="modalClose">
                    <i data-lucide="x"></i>
                </button>
            </div>
            <div class="modal-body" id="modalCarContent">
                <!-- Car details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script src="data/realistic-cars.js"></script>
    <script src="app.js"></script>
    <script>
        // Initialize Lucide icons after all scripts load
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        });
    </script>
</body>
</html>